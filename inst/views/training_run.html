<!DOCTYPE html>

<html lang="en">
<head>
<title>Training Run</title>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>

{{{ jquery }}}

{{{ materialize }}}

{{{ vue_js }}}

{{{ c3 }}}

{{{ metrics_charts }}}

{{{ dashboard }}}

</head>

<body>

<div v-cloak id="vue-app">

<navbar title="Training Run">
  <span slot="right">### run_dir ###</span>
</navbar>

<div class="container">

<div class="row">

<div class="col s12 m4 l4 xl4 push-m8 push-l8 push-xl8">

<template v-if="attributes">
<property-card
  caption="Attributes"
  v-bind:data="attributes">
</property-card>
</template>

<template v-if="metrics">
<property-card
  caption="Metrics"
  v-bind:data="metrics">
</property-card>
</template>

<template v-if="evaluation">
<property-card
  caption="Evaluation"
  v-bind:data="evaluation">
</property-card>
</template>


<template v-if="flags">
<property-card
  caption="Flags"
  v-bind:data="flags">
</property-card>
</template>

<template v-if="training">
<property-card
  caption="Training"
  v-bind:data="training">
</property-card>
</template>


</div>

<div class="col s12 m8 l8 xl8 pull-m4 pull-l4 pull-xl4">

<card caption="History">
<div id="c3-container"></div>
</card>

<card caption="Model">
<pre class="model-summary">### model ###

Loss: ### loss ###
Optimizer: ### optimizer ###
Learning Rate: ### learning_rate ###
</pre>
</card>

</div>

</div>

</div>

</div>

<script type="application/json" id="app-data">{{{ data }}}
{
  "run_dir": "runs/2017-09-01T10-59-06Z",
  "attributes": {
    "type": "local",
    "script": "mnist_mlp.R",
    "time": "00:15:32"
  },
  "metrics": {
    "acc": 0.9869,
    "val_acc": 0.9814,
    "loss":	0.0497,
    "val_loss":	0.1085
  },
  "evaluation": {
    "eval_acc": 0.9835,
    "eval_loss": 0.0951
  },
  "flags": {
    "learning_rate": 0.01,
    "batch_size":	128,
    "hidden1": 64,
    "hidden2": 32
  },
  "training": {
    "samples": "48,000",
    "val_samples": "12,000",
    "epochs": 30,
    "batch_size":	128
  },
  "history": {"loss":[0.4232,0.2001,0.1523,0.1313,0.1146,0.1041,0.0962,0.0874,0.0862,0.0806,0.0764,0.0774,0.0717,0.0675,0.0633,0.062,0.0632,0.0613,0.0625,0.0614,0.0557,0.0601,0.059,0.0553,0.0557,0.0551,0.0526,0.0543,0.0525,0.0524],"acc":[0.8709,0.9408,0.9539,0.9621,0.9658,0.9694,0.9726,0.9743,0.9749,0.9767,0.9778,0.9774,0.9801,0.9799,0.9815,0.982,0.983,0.9827,0.9825,0.9834,0.9846,0.9836,0.9838,0.9847,0.9848,0.9853,0.9861,0.986,0.9858,0.9855],"val_loss":[0.1606,0.1228,0.1069,0.0979,0.0967,0.0927,0.0915,0.0882,0.0885,0.0888,0.0928,0.094,0.0928,0.0907,0.0955,0.0953,0.0941,0.101,0.0957,0.097,0.1006,0.0981,0.0992,0.1046,0.1064,0.1051,0.1093,0.1104,0.1137,0.1108],"val_acc":[0.9508,0.9653,0.9705,0.9717,0.9743,0.9747,0.9757,0.9775,0.9772,0.979,0.9786,0.9778,0.9793,0.9801,0.979,0.9785,0.9806,0.9796,0.9799,0.9802,0.9796,0.9813,0.9813,0.9798,0.9814,0.9805,0.9808,0.9802,0.9793,0.9813]},
  "model": "Layer (type)                        Output Shape                    Param #\n================================================================================\ndense_1 (Dense)                     (None, 256)                     200960\n________________________________________________________________________________\ndropout_1 (Dropout)                 (None, 256)                     0\n________________________________________________________________________________\ndense_2 (Dense)                     (None, 128)                     32896\n________________________________________________________________________________\ndropout_2 (Dropout)                 (None, 128)                     0\n________________________________________________________________________________\ndense_3 (Dense)                     (None, 10)                      1290\n================================================================================\n\nTotal params: 235,146\nTrainable params: 235,146\nNon-trainable params: 0",
  "loss": "categorical_crossentropy",
  "optimizer": "RMSProp",
  "learning_rate": "0.01"
}
</script>



<script type="application/javascript">

// load app json
var app_data_json = document.getElementById('app-data').innerHTML;
var app_data = JSON.parse(app_data_json);

// initialize app
var app = new Vue({
  el: '#vue-app',
  data: app_data,
  delimiters: ["###","###"]
});

// initialize metrics charts
var c3_container = document.getElementById("c3-container");
new MetricsCharts(c3_container, app_data.history, null, true);

</script>


</body>

</html>


