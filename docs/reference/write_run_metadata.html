<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Write run metadata — write_run_metadata • tfruns</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">tfruns</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/visualization.html">Run Visualization</a>
    </li>
    <li>
      <a href="../articles/flags.html">Training Run Flags</a>
    </li>
    <li>
      <a href="../articles/managing.html">Managing Runs</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rstudio/tfruns">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write run metadata</h1>
    </div>

    
    <p>Record various types of training run metadata This function can be called
even when a run directory isn't active (metadata will only be written if
and when a run directory is initialized).</p>
    

    <pre class="usage"><span class='fu'>write_run_metadata</span>(<span class='no'>type</span>, <span class='no'>data</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>type</th>
      <td><p>Type of metadata to write. Standard types include "flags",
"sources", "properties", "metrics", and "evaluation". You can
also specify a custom type (see <em>Custom Types</em> section below).</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>Metadata to write:</p><ul>
<li><p>"flags" --- Named list of training flags</p></li>
<li><p>"source" --- Directory to copy source files from</p></li>
<li><p>"properties" --- Named list of arbitrary properties. Note
that properties will be stored as strings.</p></li>
<li><p>"metrics" --- Data frame with training run metrics
(see <em>Metrics Data Frame</em> below).</p></li>
<li><p>"evaluation" --- Named list of evaluation metrics.</p></li>
<li><p>"error" --- Named list with 'message' and 'traceback'</p></li>
<li><p>"&lt;custom&gt;" -- Function used to write the data
(see <em>Custom Types</em> section below).</p></li>
</ul></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p><code><a href='write_run_data.html'>write_run_data()</a></code> is deprecated and is provided as an alias
for backward compatibility.</p>
    
    <h2 class="hasAnchor" id="metrics-data-frame"><a class="anchor" href="#metrics-data-frame"></a>Metrics Data Frame</h2>

    
    <p>Metrics should be passed as a data frame with one column for each metric.
If the metrics are not yet complete (e.g. only metrics for the
first several epochs are provided) then metrics in yet to be completed
epochs should use <code>NA</code> as their values. For example:</p><pre>data.frame':	30 obs. of  4 variables:
$ loss    : num  0.423 0.201 NA NA NA ...
$ acc     : num  0.873 0.942 NA NA NA ...
$ val_loss: num  0.174 0.121 NA NA NA ...
$ val_acc : num  0.949 0.964 NA NA NA ...
</pre>
    <p>If both metrics and validation metrics are provided, you should preface the
name of the validation metric with <code>"val_"</code> (e.g. for a metric named <code>"loss"</code>
provide validation metrics in <code>"val_loss"</code>). This indicates that the metrics
are related which is useful e.g. when plotting metrics.</p>
    
    <h2 class="hasAnchor" id="custom-types"><a class="anchor" href="#custom-types"></a>Custom Types</h2>

    
    <p>You can pass a type with an arbitary name along with a function that
should be used to writes the data. The function will be passed a
single <code>data_dir</code> argument. For example:</p><pre>write_run_metadata("images", function(data_dir) {
  # write into data_dir here
})
</pre>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#note">Note</a></li>

      <li><a href="#metrics-data-frame">Metrics Data Frame</a></li>

      <li><a href="#custom-types">Custom Types</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by JJ Allaire,  RStudio.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
